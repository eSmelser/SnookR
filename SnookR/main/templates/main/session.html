<!-- 
     Copyright &copy; 2017 Evan Smelser
      This software is Licensed under the MIT license. For more info please see SnookR/COPYING
-->
{% extends 'main/base.html' %}
{% load static %}

{# snooker_extras uses the get_unregister_url tag #}
{% load snooker_extras %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'main/css/session.css' %}">
{% endblock %}

{% block title %}Subs{% endblock %}
{% block content %}
    <div class="container">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <div id="calendar"></div>

            {# These are placeholders rendered in session-calendar.js #}
            <div id="register-form-div"></div>
            <h2 id="current-user-header"></h2>
            <div id="current-user-panel"></div>
            <h2 id="sub-list-header"></h2>
            <div id='sub-list' class="post-content">
            </div>
            <div class="col-md-2"></div>
        </div>
    </div>
{% endblock %}
{% block footer_scripts %}
    <script type="text/javascript">
        const DIVISION_SLUG = "{{ session.division.slug|escapejs|safe }}";
        const SESSION_SLUG = "{{ session.slug|escapejs|safe }}";
        const SESSION_NAME = "{{  session.name|escapejs|safe }}";
        const initialSessionEvent = JSON.parse('{{ session_event.as_json | escapejs }}');
        const initialSubArray = JSON.parse('{{ subs_json | escapejs }}');
    </script>

    <link href="{% static 'scheduler/js/fullcalendar-3.7.0/fullcalendar.css' %}" rel='stylesheet'/>
    <link href="{% static 'scheduler/js/fullcalendar-3.7.0/fullcalendar.print.css' %}" rel='stylesheet' media='print'/>
    <script src="{% static 'scheduler/js/fullcalendar-3.7.0/lib/jquery.min.js' %}"></script>
    <script src="{% static 'scheduler/js/fullcalendar-3.7.0/lib/jquery-ui.min.js' %}"></script>
    <script src="{% static 'scheduler/js/fullcalendar-3.7.0/lib/moment.min.js' %}"></script>
    <script src="{% static 'scheduler/js/fullcalendar-3.7.0/fullcalendar.js' %}"></script>
    <script src="{% static 'api/js/api.js' %}"></script>
    <script src="{% static 'scheduler/js/session-calendar.js' %}"></script>
{% endblock %}